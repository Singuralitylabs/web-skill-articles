# AI駆動開発におけるプロンプトの書き方

## 概要

AIコーディングツールを使っていて、「思ったのと違う結果が出てきた」「何度やり直しても上手くいかない」という経験はありませんか？

実は、同じツールを使っていても、プロンプト（AIへの指示）の書き方次第で結果は大きく変わります。この記事では、AIに的確に意図を伝えるプロンプトの書き方を解説します。

## 悪いプロンプトで何が起こるか

まず、悪いプロンプトの例を見てみましょう。

```
タスク管理アプリ作って
```

これだけで依頼すると、AIは勝手に解釈して動き始めます。その結果、次のような問題が起こります。

- 技術選定が勝手に決まる（ReactがよかったのにVueで作られる）
- 不要な機能が盛り込まれる（カテゴリ機能や期限設定など）
- 欲しかった機能がない（削除機能が抜けている）
- 一度に大量のコードが出て把握しきれない

AIは「察してくれない」のです。曖昧な指示を出すと、AIが勝手に解釈して、想定と違うものができてしまいます。

## 良いプロンプトの4原則

では、どうすれば良いのか。良いプロンプトには4つの原則があります。

### 原則①：具体的に伝える

「いい感じに作って」ではなく、何を作りたいのか具体的に伝えます。

**悪い例**
> いい感じに作って

**良い例**
> タスクの追加、完了チェック、削除ができるアプリを作って

機能を列挙するのが効果的です。何ができて、何ができなくて良いのかを明確にしましょう。

### 原則②：段階的に進める

「全部作って」と一気に頼むと、大量のコードが出てきて把握できません。

**悪い例**
> 全部作って

**良い例**
> まず要件を整理して。次にタスク追加機能だけ作って

小さく分けて進めることで、各ステップで確認しながら進められます。

### 原則③：背景・制約を添える

使いたい技術、対象ユーザー、守りたいルールなどを伝えます。

**悪い例**
> （何も言わない）

**良い例**
> Next.jsで作って。初心者が使う前提でシンプルに

背景を伝えないと、AIは一般的な選択をします。それがあなたの意図と合っているとは限りません。

### 原則④：期待する形を示す

出力の形式を指定します。

**悪い例**
> （お任せ）

**良い例**
> コメント付きで、1ファイルにまとめて、日本語で説明して

形式を指定しないと、後から「コメントがない」「ファイルが分かれすぎ」といった問題が起こります。

## 4原則を適用した良いプロンプト

先ほどの「タスク管理アプリ作って」を、4原則を適用して書き直してみましょう。

```
タスク管理アプリを作りたいです。

ターゲット：個人利用、シンプルさ重視
必須機能：タスク追加、完了チェック、削除
技術：Next.js（React）

まず要件を整理して、必要な機能リストを作成してください。
```

このプロンプトでは、4つの原則すべてを適用しています。

- **具体的に**：必須機能を3つ明記
- **段階的に**：「まず要件を整理して」と最初のステップだけ依頼
- **背景・制約**：ターゲットと技術を指定
- **期待する形**：「機能リストを作成して」と出力形式を指定

このプロンプトなら、AIは勝手に実装を始めず、まず要件を確認してくれます。方向性が違えば、実装前に修正できます。

## プランモードを活用する

「段階的に進める」を自分でプロンプトに書かなくても、ツールがサポートしてくれる機能があります。それが「プランモード」です。

**Claude Code**
Planモード：Shift+Tabでモード切り替え

**Cursor**
Planモード：Composerでモードを選択

プランモードを使うと、AIはいきなりコードを書かず、まず「何をするか」の計画を出してくれます。

```
タスク追加機能を実装したい
```

このように依頼すると、AIは実装計画を提示してくれます。

1. コンポーネントの作成
2. 状態管理の設計
3. 入力フォームの実装
4. タスク追加ロジックの実装

計画を見て「ちょっと違うな」と思ったら、実装前に修正できます。大きな手戻りを防げるので、特に最初のうちはプランモードの活用がおすすめです。

## 開発フェーズ別のプロンプト例

開発のフェーズごとに、効果的なプロンプトの書き方があります。

### 実装依頼

計画を確認したら、追加の制約を伝えて実装を依頼します。

```
この計画でOKです。実装を進めてください。

追加の指示：
- コンポーネントは1ファイルにまとめる
- 状態管理はuseStateを使用
- 日本語でコメントをつけてください
```

ファイル構成、使用する技術、コメントの言語など、具体的に指定することで、後からの修正を減らせます。

### エラー対応

エラーが出たときは、エラー文をそのまま貼り付けて質問します。

```
以下のエラーが出ています。原因と修正方法を教えてください。

TypeError: Cannot read properties of undefined (reading 'map')
    at TaskList (TaskList.jsx:15:23)
```

ポイントは3つです。

1. **エラー文をそのまま貼る**：自分で要約しない
2. **何をしたいか伝える**：「修正方法を教えて」と明確に
3. **状況を添える**：どのファイルで、何をしようとしたら出たか

AIはエラー文から原因を特定するのが得意なので、加工せずそのまま貼るのが一番です。

### 改善依頼

コードが動いた後、もっと良くしたいときのプロンプトです。

```
このコードをリファクタリングしてください。

改善してほしい点：
- 可読性を上げる
- 関数を適切に分割する
- 変更理由もコメントで説明してください
```

「リファクタリングして」だけだと、AIが勝手な基準で変えてしまいます。何を改善したいのか具体的に伝えましょう。

「変更理由も説明して」と加えると、なぜその変更が良いのか学べるので、勉強にもなります。

## トークン消費を意識する

最後に、トークン消費についても触れておきます。

**トークン**とは、AIが処理するテキストの単位です。日本語だと、だいたい1文字が1〜2トークンくらいです。

トークン消費を意識する理由は2つあります。

- **コストに直結**：APIを使う場合、トークン数で料金が決まる
- **精度にも影響**：情報を詰め込みすぎると、AIの回答精度が下がることがある

心がけとしては、次の点を意識してください。

- 不要な前置きは省く（「お忙しいところすみませんが...」は不要）
- 関係ない情報は削る
- 簡潔に、必要なことだけ伝える

丁寧に書こうとして長くなるより、必要な情報を簡潔に伝える方が、AIにとっても人間にとっても分かりやすいです。

## まとめ

AIコーディングで成果を出すプロンプトの書き方をまとめます。

**悪いプロンプト**は、曖昧で、一度に全部頼んで、制約を伝えない。結果として想定外のものができてしまいます。

**良いプロンプト**は、4つの原則を守ります。

1. **具体的に伝える**：機能を列挙する
2. **段階的に進める**：小さく分けて依頼する
3. **背景・制約を添える**：技術、対象ユーザー、ルールを伝える
4. **期待する形を示す**：出力形式を指定する

**プランモード**を使うと、実装前に計画を確認でき、大きな手戻りを防げます。

**開発フェーズごと**に伝え方を変えましょう。

- 実装依頼：制約を明確に
- エラー対応：エラー文をそのまま貼る
- 改善依頼：何を改善したいか具体的に

**トークン**を意識して、簡潔に書くことも大切です。

これらを実践するだけで、AIコーディングの成果は大きく変わります。ぜひ今日から試してみてください。

---

## プログラミングイベントのご案内
毎月数回、AIを活用したプログラミングを学べるオンライン講座を開催しております。直接学びたい方はぜひご参加ください。
申し込みフォームは[こちら](https://docs.google.com/forms/d/e/1FAIpQLScCLBSCJvZEl7R15tCDTajcKa7INCTSOKPEXyfIEX69Q_xtEg/viewform)
過去のプログラミングイベントの紹介は[こちら](https://sinlab.future-tech-association.org/school/)

## シンギュラリティ・ラボのご案内
オンラインサロン「シンギュラリティ・ラボ」（通称シンラボ）では、GASも含めたプログラミングをはじめ、さまざまなITスキルやチーム開発について学び、実践する場を準備しております。 初心者から経験者まで、どなたでも参加可能です。
少しでも興味がございましたらお気軽にお越しください。
シンギュラリティ・ラボHPは[こちら](https://sinlab.future-tech-association.org/join/)
お問い合わせ先 sinlab-recruit@future-tech-association.org

## GASアプリ開発サービスのお知らせ
シンギュラリティ・ラボでは、GASを中心としたWebアプリ開発のご相談を受け付けております。
普段の作業のちょっとした自動化から自分やチーム専用のカスタムアプリまで、ぜひお気軽にお問い合わせください。
詳細は[こちら](https://appdev.future-tech-association.org/)
